const a15_0x4926=['length','tasks','add','defineProperty','/nx.json','strip-json-comments','has','push','addDependencies','dependencies','roots','targetDependencies','findTask','projectGraph','projects','addTaskToGraph','defaultTargetDependencies','addTaskDependencies','filter','keys','project','parse','TaskGraphCreator','target','createTaskGraph','map','indexOf','readFileSync','self'];(function(_0x35ca0f,_0x492640){const _0x552a1b=function(_0x27f490){while(--_0x27f490){_0x35ca0f['push'](_0x35ca0f['shift']());}};_0x552a1b(++_0x492640);}(a15_0x4926,0x146));const a15_0x552a=function(_0x35ca0f,_0x492640){_0x35ca0f=_0x35ca0f-0x0;let _0x552a1b=a15_0x4926[_0x35ca0f];return _0x552a1b;};'use strict';Object[a15_0x552a('0x19')](exports,'__esModule',{'value':!![]});exports[a15_0x552a('0xf')]=exports['createTaskGraphCompat']=void 0x0;const stripJsonComments=require(a15_0x552a('0x1b'));const fs_1=require('fs');const {getDependencyConfigs,workspaceRoot}=require('../../../utilities/nx-imports');function createTaskGraphCompat(_0x1978a4,_0x5d4f6e,_0xc2263){const _0x4b05d1=JSON[a15_0x552a('0xe')](stripJsonComments((0x0,fs_1[a15_0x552a('0x14')])(workspaceRoot+a15_0x552a('0x1a'))['toString']()));return new TaskGraphCreator(_0x5d4f6e,getDefaultDependencyConfigs(_0x4b05d1,_0x1978a4))[a15_0x552a('0x11')](_0xc2263);}exports['createTaskGraphCompat']=createTaskGraphCompat;function getDefaultDependencyConfigs(_0x3cce3a,_0x2f9eea){var _0x1ce76f,_0x2ebe9d;const _0x5879b5=(_0x1ce76f=_0x3cce3a[a15_0x552a('0x4')])!==null&&_0x1ce76f!==void 0x0?_0x1ce76f:{};const _0x394338=_0x2f9eea?(_0x2ebe9d=_0x2f9eea['strictlyOrderedTargets'])!==null&&_0x2ebe9d!==void 0x0?_0x2ebe9d:['build']:[];for(const _0x452e17 of _0x394338){_0x5879b5[_0x452e17]=_0x5879b5[_0x452e17]||[];_0x5879b5[_0x452e17][a15_0x552a('0x0')]({'target':_0x452e17,'projects':a15_0x552a('0x2')});}return _0x5879b5;}class TaskGraphCreator{constructor(_0x44a20b,_0x5884da){this[a15_0x552a('0x6')]=_0x44a20b;this[a15_0x552a('0x9')]=_0x5884da;}[a15_0x552a('0x11')](_0x43a56b){const _0x40c27a={'roots':[],'tasks':{},'dependencies':{}};for(const _0x501a52 of _0x43a56b){this[a15_0x552a('0x8')](_0x501a52,_0x40c27a);const _0x3891ce=getDependencyConfigs(_0x501a52[a15_0x552a('0x10')],this[a15_0x552a('0x9')],this[a15_0x552a('0x6')]);if(!_0x3891ce){continue;}this[a15_0x552a('0xa')](_0x501a52,_0x3891ce,_0x43a56b,_0x40c27a);}_0x40c27a[a15_0x552a('0x3')]=Object[a15_0x552a('0xc')](_0x40c27a[a15_0x552a('0x2')])[a15_0x552a('0xb')](_0x35fbc8=>_0x40c27a['dependencies'][_0x35fbc8][a15_0x552a('0x16')]===0x0);return _0x40c27a;}['addTaskDependencies'](_0x3acda7,_0x448092,_0x56a176,_0x5c6d85){for(const _0x54844e of _0x448092){if(_0x54844e[a15_0x552a('0x7')]===a15_0x552a('0x15')){for(const _0x5db47e of _0x56a176){if(_0x5db47e['target'][a15_0x552a('0xd')]===_0x3acda7[a15_0x552a('0x10')][a15_0x552a('0xd')]&&_0x5db47e[a15_0x552a('0x10')][a15_0x552a('0x10')]===_0x54844e[a15_0x552a('0x10')]){_0x5c6d85['dependencies'][_0x3acda7['id']][a15_0x552a('0x0')](_0x5db47e['id']);}}}else if(_0x54844e[a15_0x552a('0x7')]===a15_0x552a('0x2')){const _0x50956a=new Set();this[a15_0x552a('0x1')](_0x3acda7['target'][a15_0x552a('0xd')],_0x54844e[a15_0x552a('0x10')],_0x56a176,_0x5c6d85,_0x3acda7['id'],_0x50956a);}}}[a15_0x552a('0x1')](_0x1e5aea,_0x3a7b29,_0x2e308b,_0x39e164,_0x4f062f,_0x1d5002){_0x1d5002[a15_0x552a('0x18')](_0x1e5aea);const _0x464e7d=this[a15_0x552a('0x6')][a15_0x552a('0x2')][_0x1e5aea];if(_0x464e7d){const _0x5662f5=_0x464e7d[a15_0x552a('0x12')](_0x44e9b4=>_0x44e9b4['target']);for(const _0x2901e6 of _0x5662f5){if(_0x1d5002[a15_0x552a('0x1c')](_0x2901e6)){continue;}const _0x380610=this[a15_0x552a('0x5')]({'project':_0x2901e6,'target':_0x3a7b29},_0x2e308b);if(_0x380610){if(_0x39e164[a15_0x552a('0x2')][_0x4f062f][a15_0x552a('0x13')](_0x380610['id'])===-0x1){_0x39e164['dependencies'][_0x4f062f][a15_0x552a('0x0')](_0x380610['id']);}}else{this['addDependencies'](_0x2901e6,_0x3a7b29,_0x2e308b,_0x39e164,_0x4f062f,_0x1d5002);}}}}[a15_0x552a('0x5')]({project,target},_0x2aa4a9){return _0x2aa4a9['find'](_0x143bae=>_0x143bae[a15_0x552a('0x10')][a15_0x552a('0xd')]===project&&_0x143bae[a15_0x552a('0x10')][a15_0x552a('0x10')]===target);}[a15_0x552a('0x8')](_0x31b6a3,_0x2c7b7f){_0x2c7b7f[a15_0x552a('0x17')][_0x31b6a3['id']]=_0x31b6a3;_0x2c7b7f[a15_0x552a('0x2')][_0x31b6a3['id']]=[];}}exports[a15_0x552a('0xf')]=TaskGraphCreator;