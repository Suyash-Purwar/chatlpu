const a0_0x16f8=['../../terminal-output/read-task-terminal-output','nodes','params','runContext','project','status','npm:','endTasks','startTime','cacheStatus','toISOString','cache-miss','getTerminalOutput','target','endTime','startsWith','tasks','remote-cache','cacheDirectory','forEach','local-cache','__esModule','code','statuses','remote-cache-hit','scheduledTasks','keys','cacheableOperations','taskId','defineProperty','updateStartedTask','runtime','Cannot\x20find\x20task\x20','cleanUpHashDetails','task','cache','terminalOutput','outputObfuscator','local-cache-kept-existing','hash','push','startTask','scheduleTask','obfuscate','CloudEnabledLifeCycle'];(function(_0x34fb53,_0x16f8f4){const _0x29aafe=function(_0x1c214a){while(--_0x1c214a){_0x34fb53['push'](_0x34fb53['shift']());}};_0x29aafe(++_0x16f8f4);}(a0_0x16f8,0x71));const a0_0x29aa=function(_0x34fb53,_0x16f8f4){_0x34fb53=_0x34fb53-0x0;let _0x29aafe=a0_0x16f8[_0x34fb53];return _0x29aafe;};'use strict';Object[a0_0x29aa('0x6')](exports,a0_0x29aa('0x2b'),{'value':!![]});exports[a0_0x29aa('0x15')]=void 0x0;const serializer_overrides_1=require('../../../utilities/serializer-overrides');const read_task_terminal_output_1=require(a0_0x29aa('0x16'));class CloudEnabledLifeCycle{constructor(_0x1d4547,_0x1cb034,_0x44292a,_0x186c5a,_0x243dd3,_0x2c3691){this['runContext']=_0x1d4547;this[a0_0x29aa('0x28')]=_0x1cb034;this['collectTerminalOutput']=_0x44292a;this[a0_0x29aa('0x4')]=_0x186c5a;this[a0_0x29aa('0xe')]=_0x243dd3;this[a0_0x29aa('0x26')]=_0x2c3691;}[a0_0x29aa('0x13')](_0x20c9c4){this[a0_0x29aa('0x19')][a0_0x29aa('0x2')]['push'](_0x20c9c4);}[a0_0x29aa('0x12')](_0x5e91c8){this[a0_0x29aa('0x26')][a0_0x29aa('0x11')]({'taskId':_0x5e91c8['id'],'startTime':new Date()['toISOString'](),'target':_0x5e91c8[a0_0x29aa('0x23')][a0_0x29aa('0x23')],'projectName':_0x5e91c8[a0_0x29aa('0x23')][a0_0x29aa('0x1a')],'hash':_0x5e91c8[a0_0x29aa('0x10')],'hashDetails':this['cleanUpHashDetails'](_0x5e91c8['hashDetails']),'params':(0x0,serializer_overrides_1['serializeOverrides'])(_0x5e91c8),'uploadedToStorage':![]});}[a0_0x29aa('0x1d')](_0x3f1365){for(let _0x115d34 of _0x3f1365){let _0x4ebdbd;const _0x3b5963=_0x115d34['status']===a0_0x29aa('0x27');const _0xe5f716=_0x115d34[a0_0x29aa('0x1b')]===a0_0x29aa('0xc');const _0x32dd61=_0x115d34[a0_0x29aa('0x1b')]===a0_0x29aa('0x2a')||_0x115d34['status']===a0_0x29aa('0xf')||_0xe5f716;if(this[a0_0x29aa('0x19')][a0_0x29aa('0x0')][_0x115d34[a0_0x29aa('0xb')][a0_0x29aa('0x10')]]){_0x4ebdbd=this[a0_0x29aa('0x19')]['statuses'][_0x115d34[a0_0x29aa('0xb')][a0_0x29aa('0x10')]];}else if(_0x3b5963){_0x4ebdbd=a0_0x29aa('0x1');}else if(_0x32dd61){_0x4ebdbd='local-cache-hit';}else{_0x4ebdbd=a0_0x29aa('0x21');}this[a0_0x29aa('0x7')](_0x115d34,_0x4ebdbd);}}['endCommand'](){}[a0_0x29aa('0x7')](_0x568e02,_0x4830d0){const _0x547997=this[a0_0x29aa('0x26')]['find'](_0x33445c=>_0x33445c[a0_0x29aa('0x5')]===_0x568e02[a0_0x29aa('0xb')]['id']);if(!_0x547997){throw new Error(a0_0x29aa('0x9')+_0x568e02[a0_0x29aa('0xb')]['id']);}if((_0x568e02===null||_0x568e02===void 0x0?void 0x0:_0x568e02[a0_0x29aa('0x1e')])&&(_0x568e02===null||_0x568e02===void 0x0?void 0x0:_0x568e02[a0_0x29aa('0x24')])){_0x547997[a0_0x29aa('0x1e')]=new Date(_0x568e02[a0_0x29aa('0x1e')])['toISOString']();_0x547997[a0_0x29aa('0x24')]=new Date(_0x568e02[a0_0x29aa('0x24')])[a0_0x29aa('0x20')]();}else{_0x547997[a0_0x29aa('0x24')]=new Date()[a0_0x29aa('0x20')]();}_0x547997['status']=_0x568e02[a0_0x29aa('0x2c')];_0x547997['params']=this[a0_0x29aa('0xe')][a0_0x29aa('0x14')](_0x547997[a0_0x29aa('0x18')]);_0x547997[a0_0x29aa('0x1f')]=_0x4830d0;if(this['collectTerminalOutput']){_0x547997[a0_0x29aa('0xd')]=this[a0_0x29aa('0x22')](_0x568e02[a0_0x29aa('0xb')][a0_0x29aa('0x10')],_0x547997[a0_0x29aa('0x1f')],_0x568e02['code']);}}[a0_0x29aa('0x22')](_0x230846,_0x373d59,_0x12eb18){return(0x0,read_task_terminal_output_1['readTaskTerminalOutput'])(this[a0_0x29aa('0x28')],this[a0_0x29aa('0xe')],_0x230846,_0x373d59,_0x12eb18);}[a0_0x29aa('0xa')](_0x1f2dc4){const _0x4ca942={};Object[a0_0x29aa('0x3')](_0x1f2dc4[a0_0x29aa('0x17')])['filter'](_0x1fae1c=>!_0x1fae1c[a0_0x29aa('0x25')](a0_0x29aa('0x1c')))[a0_0x29aa('0x29')](_0x55ba86=>{_0x4ca942[_0x55ba86]=_0x1f2dc4['nodes'][_0x55ba86];});return{'nodes':_0x4ca942,'runtime':_0x1f2dc4[a0_0x29aa('0x8')],'implicitDeps':_0x1f2dc4['implicitDeps']};}}exports['CloudEnabledLifeCycle']=CloudEnabledLifeCycle;