const a2_0x4764=['reduce','scheduledTasks','store','map','resolve','.\x20Status\x20404.','all','__esModule','put','startRun','status','storeRequests','../../../utilities/environment','axiosException','messages','get','storage','then','Maybe\x20you\x20are\x20using\x20a\x20read-only\x20token\x20or\x20the\x20artifact\x20has\x20already\x20being\x20uploaded.','filter','forEach','runContext','hashUrls','apply','note','next','CloudRemoteCache','api','Error\x20when\x20storing\x20artifacts','response','delayedStoreRequests','distributedExecutionId','fileStorage','cacheError','requests','Nx\x20Cloud:\x20Skipping\x20storing\x20','push','extractErrorMessage','cache-miss','storeInCurrentProcess','hash','value','throw','Nx\x20Cloud:\x20Cache\x20miss\x20','remote-cache-hit','retrieve','statuses'];(function(_0x16c364,_0x476449){const _0x1f57d3=function(_0x5a762a){while(--_0x5a762a){_0x16c364['push'](_0x16c364['shift']());}};_0x1f57d3(++_0x476449);}(a2_0x4764,0xc3));const a2_0x1f57=function(_0x16c364,_0x476449){_0x16c364=_0x16c364-0x0;let _0x1f57d3=a2_0x4764[_0x16c364];return _0x1f57d3;};'use strict';var __awaiter=this&&this['__awaiter']||function(_0x1d82ec,_0x344044,_0x123259,_0x4c18b4){function _0x345e86(_0xf9f12e){return _0xf9f12e instanceof _0x123259?_0xf9f12e:new _0x123259(function(_0x513202){_0x513202(_0xf9f12e);});}return new(_0x123259||(_0x123259=Promise))(function(_0x3f13ae,_0x33ef92){function _0x105349(_0x1a6c51){try{_0x858f3(_0x4c18b4[a2_0x1f57('0x12')](_0x1a6c51));}catch(_0x4fd3cb){_0x33ef92(_0x4fd3cb);}}function _0x3cf2d3(_0x13b116){try{_0x858f3(_0x4c18b4[a2_0x1f57('0x23')](_0x13b116));}catch(_0x489627){_0x33ef92(_0x489627);}}function _0x858f3(_0x4404f0){_0x4404f0['done']?_0x3f13ae(_0x4404f0[a2_0x1f57('0x22')]):_0x345e86(_0x4404f0[a2_0x1f57('0x22')])[a2_0x1f57('0xa')](_0x105349,_0x3cf2d3);}_0x858f3((_0x4c18b4=_0x4c18b4[a2_0x1f57('0x10')](_0x1d82ec,_0x344044||[]))[a2_0x1f57('0x12')]());});};Object['defineProperty'](exports,a2_0x1f57('0x0'),{'value':!![]});exports[a2_0x1f57('0x13')]=void 0x0;const environment_1=require(a2_0x1f57('0x5'));const {output}=require('../../../utilities/nx-imports');class CloudRemoteCache{constructor(_0x3065c9,_0x1da5cb,_0x128c87,_0x357325,_0x56d357,_0xd0d498){this[a2_0x1f57('0x7')]=_0x3065c9;this[a2_0x1f57('0x14')]=_0x1da5cb;this[a2_0x1f57('0xe')]=_0x128c87;this[a2_0x1f57('0x19')]=_0x357325;this[a2_0x1f57('0x18')]=_0x56d357;this[a2_0x1f57('0x20')]=_0xd0d498;this[a2_0x1f57('0x4')]=[];this[a2_0x1f57('0x17')]=[];}[a2_0x1f57('0x26')](_0x23bb4b,_0xdedf42){var _0x2509d9;return __awaiter(this,void 0x0,void 0x0,function*(){if(this['messages'][a2_0x1f57('0x1a')])return![];const _0x1cbdd0=yield this['hashUrls'](_0x23bb4b);if(!_0x1cbdd0||!_0x1cbdd0[a2_0x1f57('0x8')]){if(environment_1['VERBOSE_LOGGING']){output[a2_0x1f57('0x11')]({'title':a2_0x1f57('0x24')+_0x23bb4b+'.'});}this['runContext']['statuses'][_0x23bb4b]=a2_0x1f57('0x1f');return![];}try{yield this[a2_0x1f57('0x19')][a2_0x1f57('0x26')](_0x23bb4b,_0x1cbdd0['get'],_0xdedf42);this['runContext'][a2_0x1f57('0x27')][_0x23bb4b]=a2_0x1f57('0x25');return!![];}catch(_0x205db8){const _0xf78372=(_0x2509d9=_0x205db8[a2_0x1f57('0x6')])!==null&&_0x2509d9!==void 0x0?_0x2509d9:_0x205db8;if(_0xf78372[a2_0x1f57('0x16')]&&_0xf78372[a2_0x1f57('0x16')][a2_0x1f57('0x3')]===0x194){if(environment_1['VERBOSE_LOGGING']){output[a2_0x1f57('0x11')]({'title':a2_0x1f57('0x24')+_0x23bb4b+a2_0x1f57('0x2d')});}}else{this[a2_0x1f57('0x7')][a2_0x1f57('0x1a')]=this[a2_0x1f57('0x7')][a2_0x1f57('0x1e')](_0xf78372,a2_0x1f57('0x9'));}this['runContext'][a2_0x1f57('0x27')][_0x23bb4b]=a2_0x1f57('0x1f');return![];}});}[a2_0x1f57('0x2a')](_0x23f9ee,_0x3a875f){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x1f57('0x7')][a2_0x1f57('0x1a')])return![];const _0x1d4f9c=Promise[a2_0x1f57('0x2c')]()[a2_0x1f57('0xa')](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x110fd0;const _0x55c0fe=yield this['hashUrls'](_0x23f9ee);if(!_0x55c0fe)return![];if(!_0x55c0fe[a2_0x1f57('0x1')]){if(environment_1['VERBOSE_LOGGING']){output[a2_0x1f57('0x11')]({'title':a2_0x1f57('0x1c')+_0x23f9ee+'.','bodyLines':['There\x20are\x20several\x20reasons\x20why\x20this\x20can\x20happen.',a2_0x1f57('0xb')]});}return!![];}if(!this[a2_0x1f57('0x20')]){this['delayedStoreRequests']['push']({'hash':_0x23f9ee,'url':_0x55c0fe[a2_0x1f57('0x1')]});return!![];}try{yield this[a2_0x1f57('0x19')][a2_0x1f57('0x2a')](_0x23f9ee,_0x55c0fe[a2_0x1f57('0x1')],_0x3a875f);return!![];}catch(_0x366ee0){const _0x185a89=(_0x110fd0=_0x366ee0[a2_0x1f57('0x6')])!==null&&_0x110fd0!==void 0x0?_0x110fd0:_0x366ee0;this[a2_0x1f57('0x7')]['cacheError']=this[a2_0x1f57('0x7')][a2_0x1f57('0x1e')](_0x185a89,a2_0x1f57('0x9'));return![];}}));this[a2_0x1f57('0x4')]['push'](_0x1d4f9c);return _0x1d4f9c;});}[a2_0x1f57('0xf')](_0x1a8875){return __awaiter(this,void 0x0,void 0x0,function*(){if(_0x1a8875 in this[a2_0x1f57('0xe')][a2_0x1f57('0x1b')]){return(yield this[a2_0x1f57('0xe')][a2_0x1f57('0x1b')][_0x1a8875])[_0x1a8875];}else{const _0x48b5fa=this[a2_0x1f57('0xe')][a2_0x1f57('0x29')][a2_0x1f57('0xc')](_0x4a8762=>!this[a2_0x1f57('0xe')][a2_0x1f57('0x1b')][_0x4a8762[a2_0x1f57('0x21')]])[a2_0x1f57('0x2b')](_0x471fdd=>_0x471fdd[a2_0x1f57('0x21')]);if(_0x48b5fa['indexOf'](_0x1a8875)===-0x1){_0x48b5fa[a2_0x1f57('0x1d')](_0x1a8875);}const _0x5d627e=this[a2_0x1f57('0x14')][a2_0x1f57('0x2')](this[a2_0x1f57('0x18')],_0x48b5fa);_0x48b5fa[a2_0x1f57('0xd')](_0x370721=>{this[a2_0x1f57('0xe')][a2_0x1f57('0x1b')][_0x370721]=_0x5d627e;});return(yield _0x5d627e)[_0x1a8875];}});}['waitForStoreRequestsToComplete'](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x39a3f=yield Promise[a2_0x1f57('0x2e')](this[a2_0x1f57('0x4')])[a2_0x1f57('0xa')](_0x1b538a=>_0x1b538a[a2_0x1f57('0x28')]((_0x512c54,_0x4582e4)=>_0x512c54&&_0x4582e4,!![]));if(!_0x39a3f){throw new Error(a2_0x1f57('0x15'));}});}}exports[a2_0x1f57('0x13')]=CloudRemoteCache;